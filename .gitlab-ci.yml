build-VoltF0.3-Project:
 stage: build
 image: ubuntu:18.04
 only:
 - Volt-F0.3
 before_script:
  - apt-get update 
  - apt-get install curl  -y
  - apt-get install openssh-client -y
  # Install Node Version Manager (NVM) so we can change the node version 
  - curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.36.0/install.sh | bash
  - ". ~/.nvm/nvm.sh"
  - nvm install v12.22.8
  - echo "12.22.8" > .nvmrc
  - nvm exec npm ci
 script:
  - nvm exec npm run-script build --configuration=dev-refcuba
  - echo "$PRIVATE_KEY_DEVREFCUBA" > devrefcuba.key
  - chmod 600 devrefcuba.key 
  - cd dist/cuba/
  - ssh-agent bash -c -v 'ssh-add ../../devrefcuba.key; scp -o StrictHostKeyChecking=no -r * developer@143.198.16.105:/var/www/html/'